\section{Cloud app installation}

In this section are provided the steps to install the Zimbra Drive Cloud App to the specific supported cloud.
\begin{warning}
The cloud services supported are NextCloud and OwnCloud.
\end{warning}

\subsection{NextCloud/OwnCloud}\label{subsec:nextcloudOwncloudInstallation}
    NextCloud and OwnCloud requires the same following installation steps.
    The placeholder \texttt{PATH\textunderscore TO\textunderscore CLOUD} is an absolute path and it can be "/var/www/html":

    \begin{enumerate}
        \item Copy \texttt{zimbradrive.tar.gz} in Nextcloud/Owncloud drive\\ \\
        \texttt{scp zimbradrive.tar.gz root@cloud:/tmp}\\
        \item Extract \texttt{zimbradrive.tar.gz} in Nextcloud/Owncloud drive in \texttt{PATH\textunderscore TO\textunderscore CLOUD/apps}\\ \\
        \texttt{tar -xvzf zimbradrive.tar.gz -C \texttt{PATH\textunderscore TO\textunderscore CLOUD}/apps}\\
        \item Change permissions of the extracted folder \texttt{PATH\textunderscore TO\textunderscore CLOUD/apps/zimbradrive}\\ \\
        \texttt{chown -R root:www-data PATH\textunderscore TO\textunderscore CLOUD/apps/zimbradrive/}\\
        \item Enable Zimbra Drive App from Nextcloud/Owncloud Admin Interface or with command %(replace PATH\textunderscore CLOUD)
        \\ \\
        \texttt{sudo -u www-data php PATH\textunderscore TO\textunderscore CLOUD/occ app:enable zimbradrive}
    \end{enumerate}

    At this point the NextCloud/OwnCloud Zimbra Drive App is installed and is required the configuration.
    In NextCloud/OwnCloud administration panel must appears a new "Zimbra Drive" entry in the left sidebar
    that redirect to the configuration view. Here will be the following configurations:
    \begin{itemize}
        \item (CheckBox) \textbf{Enable authentication through Zimbra}\\
        (Mandatory) Allows Zimbra users to use NextCloud/OwnCloud with their Zimbra credentials.
        \item (InputField) \textbf{Zimbra Server}\\
        (Mandatory) Zimbra webmail host or ip.
        \item (InputField) \textbf{Zimbra Port}\\
        (Mandatory) Zimbra webmail port.
        \item (CheckBox) \textbf{Use SSL}\\
        Check if the Zimbra webmail port uses SSL certification.
        \item (CheckBox) \textbf{Enable certification verification}\\
        Disable only if Zimbra has an untrusted certificate.
        \item (InputField) \textbf{Domain Preauth Key}\\
        The Zimbra users can log in NextCloud/OwnCloud after the first access in Zimbra Drive Zimlet
        with their Zimbra credentials. The new icon in Apps menu added by Zimbra Drive App let 
        Zimbra user to open a new Zimbra webmail tab skipping authentication.\\
        The Domain PreAuth Key is required:\\
        \texttt{\# As zimbra}\\
        \texttt{zmprov generateDomainPreAuthKey domainExample.com} (first time)\\
        \texttt{zmprov getDomain example860.com zimbraPreAuthKey}
    \end{itemize}
